
# ğŸ›¥ï¸ OceanTutor: AI ê¸°ë°˜ í•´ê¸°ì‚¬ ìê²©ì¦ íŠœí„°

KDT01. ë§ˆë¦°ì†Œí”„íŠ¸ í•´ê¸°ì‚¬ íŠœí„° í”„ë¡œì íŠ¸  

AIì™€ í•¨ê»˜ í•­í•´ì˜ ê¿ˆì„ í˜„ì‹¤ë¡œ!  
í•´ê¸°ì‚¬ ìˆ˜í—˜ìƒì„ ìœ„í•œ ì°¨ì„¸ëŒ€ ë©€í‹°ëª¨ë‹¬ í•™ìŠµ ë³´ì¡° ì‹œìŠ¤í…œ

---

## ğŸ“ ëª©ì°¨
- í”„ë¡œì íŠ¸ ê°œìš”
- í•µì‹¬ ê¸°ëŠ¥
- ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- ê¸°ìˆ  ìŠ¤íƒ
- ì£¼ìš” ë„ì „ ê³¼ì œ ë° í•´ê²° ê³¼ì •
- ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•
- ë””ë ‰í† ë¦¬ êµ¬ì¡°
- í–¥í›„ ê°œì„  ê³¼ì œ

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”
OceanTutorëŠ” í•´ê¸°ì‚¬ ìê²©ì¦ ì‹œí—˜ì„ ì¤€ë¹„í•˜ëŠ” ìˆ˜í—˜ìƒë“¤ì„ ìœ„í•œ AI ê¸°ë°˜ ì§ˆì˜ì‘ë‹µ ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.  
í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ì´ë¡  ì§ˆë¬¸ë¿ë§Œ ì•„ë‹ˆë¼, ì‹¤ì œ ê¸°ì¶œë¬¸ì œì— ë“±ì¥í•˜ëŠ” íë¦¿í•˜ê±°ë‚˜ ì¼ë¶€ ì •ë³´ê°€ ê°€ë ¤ì§„ ì´ë¯¸ì§€ì— ëŒ€í•´ì„œë„ ê¹Šì´ ìˆëŠ” í•´ì„¤ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

ë³¸ í”„ë¡œì íŠ¸ëŠ” ë³µì¡í•˜ê³  ë‹¤ì–‘í•œ í˜•íƒœì˜ ì§ˆë¬¸(í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, ë³µí•©)ì„ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´, ìµœì‹  ë©€í‹°ëª¨ë‹¬ LLM(Google Gemini 2.5 Flash)ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê°•ê±´í•œ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ì‹œìŠ¤í…œê³¼ ì§€ëŠ¥í˜• RAG(ê²€ìƒ‰ ì¦ê°• ìƒì„±) íŒŒì´í”„ë¼ì¸ì„ LangGraphë¥¼ í†µí•´ ìœ ê¸°ì ìœ¼ë¡œ ê²°í•©í•˜ì—¬ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## âœ¨ í•µì‹¬ ê¸°ëŠ¥
- **í…ìŠ¤íŠ¸ ê¸°ë°˜ ì§ˆì˜ì‘ë‹µ**: í•´ì‚¬ë²•ê·œ, í•­í•´ìˆ , ê¸°ê´€í•™ ë“± ì´ë¡ ì— ëŒ€í•œ ì„œìˆ í˜• ì§ˆë¬¸ì— RAGë¥¼ í†µí•´ ì •í™•í•œ ë‹µë³€ ì œê³µ  
- **ì´ë¯¸ì§€ ë¬¸ì œ í•´ì„¤**: ê¸°ì¶œë¬¸ì œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ, ì´ë¯¸ì§€ ì¢…ë¥˜ ìë™ ë¶„ë¥˜ í›„ ì •ë‹µ ë‹¤ì´ì–´ê·¸ë¨ê³¼ ë¹„êµ ë¶„ì„í•˜ì—¬ ìƒì„¸ í•´ì„¤ ìƒì„±  
- **ê°•ê±´í•œ ì´ë¯¸ì§€ ì¸ì‹**: íë¦¿Â·ì ˆë‹¨Â·ìƒ‰ìƒ ë³€í™”ê°€ ìˆëŠ” ì´ë¯¸ì§€ë„ pHash í´ëŸ¬ìŠ¤í„°ë§ ê¸°ë°˜ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ë¡œ ì•ˆì •ì  ì‹ë³„  
- **ì§€ëŠ¥í˜• RAG íŒŒì´í”„ë¼ì¸**:
  - ë©€í‹°ëª¨ë‹¬ VQAë¥¼ í†µí•´ ì´ë¯¸ì§€ì—ì„œ ê²€ìƒ‰ í‚¤ì›Œë“œ ì¶”ì¶œ  
  - ë‚´ë¶€ DB ê²€ìƒ‰ ì‹¤íŒ¨ ì‹œ Tavily ì›¹ ê²€ìƒ‰ìœ¼ë¡œ ìë™ ì „í™˜  
  - BGE-M3 Rerankerë¡œ ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ  
- **ë™ì Â·ìœ ì—°í•œ ì‘ë‹µ**: ì •ë³´ ë¶€ì¡± ì‹œ RAG ë‹¨ê³„ë¥¼ ê±´ë„ˆë›°ì–´ LLMì´ í˜„ì¬ ì •ë³´ë§Œìœ¼ë¡œ ìµœì„ ì˜ ë‹µë³€ ìƒì„±  

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
```markdown
graph TD
    A[ì‚¬ìš©ì ìš”ì²­ ì§ˆë¬¸ í…ìŠ¤íŠ¸ + ì´ë¯¸ì§€?] --> B{ì´ë¯¸ì§€ í¬í•¨ ì—¬ë¶€};

    B -- No --> F[2. ê²€ìƒ‰ì–´ ìƒì„±];
    B -- Yes --> C[1A. ì´ë¯¸ì§€ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ pHash Clustering];
    C --> D[1B. ë©€í‹°ëª¨ë‹¬ VQA Gemini];
    D --> E{VQA í‚¤ì›Œë“œ ì¶”ì¶œ ì„±ê³µ?};

    E -- Yes --> F;
    F --> G[3. RAG: í…ìŠ¤íŠ¸ DB ê²€ìƒ‰ ChromaDB];
    G --> H[4. ë¬¸ì„œ í’ˆì§ˆ ê²€ìˆ˜ BGE Reranker];
    H --> I{ê´€ë ¨ ë¬¸ì„œ ì°¾ìŒ?};

    I -- Yes --> K[6. ìµœì¢… ë‹µë³€ ìƒì„± Gemini];
    I -- No --> J[5. Fallback: ì›¹ ê²€ìƒ‰ Tavily];
    J --> K;
    E -- No --> K;

    subgraph "Image Processing"
        C
        D
    end

    subgraph "RAG Pipeline"
        F
        G
        H
        J
    end

    K --> L[ìµœì¢… ë‹µë³€];

    %% Styling
    style A fill:#d4edda,stroke:#c3e6cb,color:#155724
    style L fill:#d4edda,stroke:#c3e6cb,color:#155724
    
    style C fill:#cce5ff,stroke:#b8daff,color:#004085
    style D fill:#cce5ff,stroke:#b8daff,color:#004085
    style F fill:#cce5ff,stroke:#b8daff,color:#004085
    style G fill:#cce5ff,stroke:#b8daff,color:#004085
    style H fill:#cce5ff,stroke:#b8daff,color:#004085
    style K fill:#cce5ff,stroke:#b8daff,color:#004085

    style B fill:#ffeeba,stroke:#ffdf7e,color:#856404
    style E fill:#ffeeba,stroke:#ffdf7e,color:#856404
    style I fill:#ffeeba,stroke:#ffdf7e,color:#856404

    style J fill:#fff3cd,stroke:#ffeeba,color:#856404
````

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ë¶„                   | ê¸°ìˆ                       | ì„¤ëª…                         |
| -------------------- | ----------------------- | -------------------------- |
| **Backend**          | FastAPI, Uvicorn        | ë¹„ë™ê¸° ì›¹ í”„ë ˆì„ì›Œí¬ ë° ASGI ì„œë²„      |
| **AI Orchestration** | LangGraph               | ë³µì¡í•œ AI ì—ì´ì „íŠ¸ ë° íŒŒì´í”„ë¼ì¸ êµ¬ì¶•     |
| **LLM & Vision**     | Google Gemini 2.5 Flash | í•µì‹¬ ì¶”ë¡  ë° ë©€í‹°ëª¨ë‹¬ VQA ì—”ì§„        |
| **Embedding**        | BAAI/bge-m3             | í…ìŠ¤íŠ¸ ì„ë² ë”© ëª¨ë¸                 |
| **Reranker**         | BAAI/bge-reranker-v2-m3 | ê²€ìƒ‰ ê²°ê³¼ ì¬ìˆœìœ„í™” ëª¨ë¸              |
| **Vector DB**        | ChromaDB                | í…ìŠ¤íŠ¸ ì„ë² ë”© ì €ì¥ ë° ê²€ìƒ‰            |
| **Web Search**       | Tavily                  | RAG ì‹¤íŒ¨ ì‹œ Fallback ì›¹ ê²€ìƒ‰ API |
| **Image Matching**   | ImageHash (pHash)       | ì‹œê°ì  ìœ ì‚¬ë„ ê¸°ë°˜ ì´ë¯¸ì§€ ë¶„ë¥˜          |
| **Computer Vision**  | OpenCV, EasyOCR, YOLOv8 | ì´ë¯¸ì§€ ì „ì²˜ë¦¬, OCR, ê°ì²´ íƒì§€        |
| **Environment**      | Conda                   | Python ê°€ìƒí™˜ê²½ ê´€ë¦¬             |

---

## ğŸ’¡ ì£¼ìš” ë„ì „ ê³¼ì œ ë° í•´ê²° ê³¼ì •

**ë„ì „ 1: íë¦¿í•œ ì´ë¯¸ì§€ ì¹´í…Œê³ ë¦¬ ì‹ë³„ ë¬¸ì œ**

* CLIP ê¸°ë°˜ ìœ ì‚¬ë„ ëª¨ë¸ì´ ìƒ‰ìƒÂ·í•´ìƒë„ ì°¨ì´ë¡œ ì‹¤íŒ¨ â†’ pHash ê¸°ë°˜ ì§€ë¬¸ ìƒì„± + ì‚¬ì „ ë§¤í•‘ìœ¼ë¡œ í•´ê²°

**ë„ì „ 2: ì´ë¯¸ì§€ ë‚´ í¬ì¸í„° ì¶”ì¶œ ë¶ˆì•ˆì •ì„±**

* YOLO/OCR ë°©ì‹ ì‹¤íŒ¨ìœ¨ ë†’ìŒ â†’ Gemini VQAë¡œ ë‘ ì´ë¯¸ì§€ ë¹„êµ í›„ í‚¤ì›Œë“œ ì§ì ‘ ì¶”ì¶œ

**ë„ì „ 3: RAG ì‹¤íŒ¨ ì‹œ ë‹µë³€ í’ˆì§ˆ ì €í•˜**

* ì¡°ê±´ë¶€ ë¶„ê¸°ë¡œ VQA ì‹¤íŒ¨ ì‹œ RAG/Web ê²€ìƒ‰ ê±´ë„ˆë›°ê³  LLM ì§í–‰ â†’ ë¶ˆí™•ì‹¤ì„± ì¸ì§€í•œ ì†”ì§í•œ ë‹µë³€ ì œê³µ

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

```bash
# 1. Git ë¦¬í¬ì§€í† ë¦¬ í´ë¡ 
git clone https://github.com/your-username/oceantutor-test.git
cd oceantutor-test

# 2. Conda ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
conda env create -f environment.yml
conda activate oceantutor

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env)
GOOGLE_API_KEY="your_google_api_key"
TAVILY_API_KEY="your_tavily_api_key"

# 4. ë°ì´í„°/ëª¨ë¸ ì¤€ë¹„
# data/images/red_images/ì— ì •ë‹µ ì´ë¯¸ì§€
# data/images/problem_images/ì— ë¬¸ì œ ì´ë¯¸ì§€
# models/yolo_best.pt ëª¨ë¸ íŒŒì¼ ë°°ì¹˜
# data/final_final_report.md í…ìŠ¤íŠ¸ ë°ì´í„° ë°°ì¹˜

# 5. (ìµœì´ˆ ì‹¤í–‰ ì‹œ) ChromaDB ë²¡í„°ìŠ¤í† ì–´ ìƒì„±

# 6. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
uvicorn app.main:app --reload
```

API ë¬¸ì„œ: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

---

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```plaintext
oceantutor-test/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ ocr_service.py
â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â””â”€â”€ rag.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ image_matching_service.py
â”‚   â”‚   â””â”€â”€ rag_service.py
â”‚   â””â”€â”€ rag/
â”‚       â”œâ”€â”€ config.py
â”‚       â”œâ”€â”€ prompt_templates.py
â”‚       â””â”€â”€ rag_pipeline.py
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ final_final_report.md
â”‚   â””â”€â”€ images/
â”‚       â”œâ”€â”€ problem_images/
â”‚       â””â”€â”€ red_images/
â”œâ”€â”€ models/
â”‚   â””â”€â”€ yolo_best.pt
â”œâ”€â”€ .db_storage/
â”œâ”€â”€ .env
â””â”€â”€ README.md
```

---


## ğŸ”® í–¥í›„ ê°œì„  ê³¼ì œ

* **Metric Learning ë„ì…**: ì˜ë¯¸ì  ìœ ì‚¬ë„ í•™ìŠµ ê¸°ë°˜ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ í–¥ìƒ
* **ì‚¬ìš©ì í”¼ë“œë°± ë£¨í”„**: ì¢‹ì•„ìš”/ì‹«ì–´ìš” ê¸°ë°˜ RAG ê°œì„ 
* **UI/UX ê°œì„ **: ì§ˆë¬¸/ë‹µë³€ íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€

